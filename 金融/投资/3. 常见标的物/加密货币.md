# 中心化的货币系统

## 货币

说起货币，我们想到的就是日常生活中使用的纸币，最开始的交易是以物易物，随着经济和贸易的发展，出现为了提高交易效率而用于交换的中介商品，这就是货币。货币从贝壳、金银演变成了纸币。



**纸币由政府发行，价值来自政府的信用担保**，以政府的法令使其成为合法通货的货币，称为**法定货币**（英语：Fiat Currency , Legal Tender），简称**法币**，任何金钱债权人均不得拒收法定货币。



随着计算机技术的发展，银行系统经过几十年的发展，已经用计算机系统完全代替了人工记账，纸币也实现了电子化，电子货币可以有效提高交易的效率及安全，例如消费者无须携带大量现金、商户同时无须人工点算现金。现在，我们可以自由地使用网银、支付宝这样的工具实现随时随地转账付款，就得益于纸币的电子化和网络化。



**电子货币是法币的电子化，本质上仍然是法币**，它仍然是由政府发行，**只是以计算机技术把货币把实体纸币形式的流通变成了银行计算机系统的数字**。和纸币相比，电子货币具有更高的流动性。

## 货币是如何发行的？

现代各国的**法定货币，是通过债务创造的**，也就是说，贷款贷出来的，所以**法币**也叫**债务货币**或**信用货币**。



每个资产所有者都拥有自己的资产负债表，记录了资产和负债的情况：**资产= 负债 + 所有者权益**。

- 资产就是目前所有者拥有的任何资源

- 负债就是目前所有者欠下的债务

- 所有者权益 = 资产 - 负债后所有者享有的剩余权益

> 以甲拥有50万现金，价值200万的房子，100万的贷款为例。
> 
> - 资产为200 + 50 = 250万
>- 负债为100万
> - 所有者权益为250 - 100 = 150万，这意味着甲完全属于自己的东西价值150万



**中央银行**（英语：central bank），简称**央行**，是负责国家、地区（如欧盟）货币政策的主体机构，**央行具有法定的印钞、发钞权**。央行的活动不以营利为目的，央行主要职责是维持该国货币稳定性与供给，**保卫货币（使币值稳定）被认为是中央银行的首要责任**。



央行发行的货币以两种方式发行

1. 方式一：政府发行政府债券，央行买下，政府再把货币用出去

   > **债券**（英语：Bond）是发行者为筹集资金而发行、在约定时间支付一定比例的利息，并在到期时偿还本金的一种物品。

   **对于不以营利为目的的所有者，所有者权益为0。即：总资产＝总负债**。因此

   - 对于政府而言，货币是资产，发行的债券是负债。
   - 对于央行而言，债券是资产，货币是负债。

   

   资产与负债要平衡

   - 央行的资产负债表扩大，就意味着发放更多的货币，称为扩表

   - 央行的资产负债表缩小，就意味着回收货币，称为缩表。

2. 方式二：贷款给商业银行。央行虽然掌握印钞大权，但它印了钱，总不能挨家挨户去发吧，**它可以通过贷款给商业银行，商业银行再贷款给企业或个人，以商业银行为渠道通过贷款的方式发行。**商业银行是货币流入市场的中介，央行就是商业银行的银行。

## 商业银行的运作方式

流入银行的货币，例如储户向银行存款、向央行的贷款

1. 银行将储户存款保留一部分，称为准备金，以备储户提款，其余的钱则贷出去，赚取存款和贷款的利息差。
2. 贷出去的钱流通后又被存入银行，银行留下部分准备金后，继续贷出去，循环往复多次

这样，银行可以通过少量起始存款，制造出多倍于起始存款的贷款，称为**货币乘数效应**。**贷款其实就是向社会投放货币的方式。**



银行在这个过程中不同的举措，会有不一样的效果

- 针对存款和贷款利息
  - 如果银行降低存款和贷款利息，人们就会倾向于少存钱，多贷款，这就相当于向社会投放货币
  - 如果银行提高存款和贷款利息，人们就会倾向于多存钱，少贷款，这就相当于从社会回收货币
- 针对准备金
  - 如果银行降低准备金率，就可以向社会贷出更多钱，称为降准
  - 如果银行提高准备金率，就可以减少向社会贷出的钱，称为加准



社会上流通的货币多了，商品服务纷纷涨价，就是通货膨胀，反之则为通货紧缩。

> **挤兑**指的是银行或金融机构被大批的存款客户要求提款领回自有的储金，通常发生在银行的营运上有重大负面传闻之时，银行遭遇集中且密集的提款，很可能支应不及而宣告营运困难，倘若未得到其他援助或让挤兑情况减缓，则该银行极有可能因此宣告倒闭以及信用破产。
>
> 银行接受客户存款时，实际上是银行向客户借钱，属于债务的一种。 而银行接受存款之后，并不是单纯地把客户的钱放置保管，而是会把这些钱发作贷款、或者投资，以赚取当中的利息。 所以银行内所拥有可动支的金钱并不等于所接受的存款总额。 因此，当大量存款客户在短时间内要求提款时，银行并没有足够的可动支金额来支付这些提款金额。 此时银行等于无力偿付债务，也就是破产，这样单纯由存款引发的破产事件即为**挤兑**。
>
> 加息会有挤兑的风险，加息会使得贷款成本上升，从而使得借款人的还款压力增大，特别是对于那些贷款比例较高或者偿还压力本来就较大的借款人来说，可能会出现难以偿还的情况。**当出现大量无法偿还的借款时，可能会导致银行流动性短缺，从而引发挤兑。**

## 流通的货币越来越多的趋势

既然**债务都需要偿还，流通的货币最终还是会被回收**，为什么社会上流通的货币还会越来越多呢？原因是债务越来越多。其实，**世界各国的债务都有不断扩大的趋势，债务是越堆越多的，债务对应着货币，社会上流通的货币也越来越多。**



如今的美国，国债高达30万亿美元，比美国GDP还高，肯定是还不清的，美国这些年的做法，基本都是借新债还旧债，债越滚越大，说美国国债是最大的庞氏骗局也不为过。由于美元是世界货币，美国本土并未承受严重的通货膨胀，这些钱撒向全世界买买买，向其他国家转嫁了通胀压力。

> 比如，中国对外**出口收到的美元**比**进口花掉的美元**多，对外顺差，国内只能使用人民币，这部分**多出来的美元外汇，在国内使用时要兑换成人民币，这样就在国内造成了通胀。**



中国国内也存在着严重的地方政府债务问题，还有国内高昂的房价和巨额房贷，也相当于向社会中释放了大量货币。**大量货币引起通货膨胀**，由于国内缺乏投资渠道，聚集了教育工作医疗等资源，具有稀缺性的大城市房子，就成了最好的保值增值标的，钱涌入房地产领域流动，于是房子

- **一方面成为了货币发行的“印钞机”（人们为了房子，需要从银行贷款）**
- **另一方面又成为了吸收货币的“蓄水池”，价格暴涨（钱都花到房子上了，通过交易流入银行）**

但相对来说，米面粮食等生活必需品，涨价倒不大，一些电子产品甚至随着生产规模扩大，越来越便宜。



由于**地方债务存在越滚越大的情况，而且房贷往往一贷就是几十年，短期内释放的大量货币并不能回笼，资产负债表不断扩大**，而且未来可能还会产生更多的债务和贷款，所以整体上社会呈现一种通货膨胀的局面。



在通货膨胀的过程中，富人持有的地产、房子、矿山、工厂、股份、艺术品等资产是不断升值的，而且富人往往还会贷款负债经营，富人也有更多资源更多机会，更容易利用法律和政策谋利，穷人持有的少量存款和富人的负债不断贬值，加大了贫富差距。



在银行放贷的过程中，必然是政府、国企、富人容易拿到贷款，因为他们有资产抵押。**富人拿着贷出的钱，趁着货币还没贬值买资产，等到货币充分流通到社会中，物价普涨的时候，再卖掉少部分资产，即可轻松还债。**所以我们可以看到，每次金融危机，央行印钞大放水救市后，贫富差距都会扩大一轮。

## 银行在交易中扮演的角色

货币通过交易进行流通，让我们想一想在货币流通过程中，传统的基于银行等金融机构进行交易时，银行扮演着一个怎样的角色。



例如

1. 储户 A 开户存款 100 元——银行记录账户A余额 +100元这笔交易信息
2. 储户 A 转账 50 给储户 B——银行确保A账户有50元，并划转给B账户，确保两个交易用户的余额一增一减，并记录账户A -50元，账户B +50元记录这笔交易
3. 储户 A 取款 50 元——银行记录账户A余额 -50元这笔交易



银行在交易中做了两件事情

1. **记账，即记录交易信息**
2. **验证交易各方是否拥有他们声称拥有的资金**



通过银行这个第三方信任机构为中心（中央信任机构）进行交易，最主要的优点就是有了中央信任机构做担保，交易者可以在不了解对方基本信息的情况下就可以进行交易。但**永远绕不过中央信任机构，并且前提是用户必须信任银行（例如，信任银行不会篡改余额）**。关于交易数据的记录、处理都由中央信任机构一家说了算，很容易造成的不透明。

> 如果是通过现金交易，用户并不需要通过银行，但是需要当面交易，以及会遇到现钞的防伪、防盗等问题。

# 加密货币

加密货币是一种数字货币

- 加密货币和电子货币不同的是加密货币不需要一个类似银行的中央信任机构，就可以通过全球网络进行**发行和流通**，这一点听上去有点不可思议，但**加密货币**正是一种**通过密码学理论建立的不可伪造的货币系统**。
- 同时加密货币是一种数字货币，**数字货币没有物理实体存在**，相比之下电子货币有纸币这一物理实体存在

# 实现去中心化的区块链

## 概述

加密货币通过**分布式账本（distributed ledger）**也称为**共享账本（shared ledger）**技术实现了去中心化，不需要依赖中央信任机构进行交易。



**分布式账本技术最常见的是区块链**。因为支付的本质是“将账户A中减少的金额增加到账户B中”。如果有一本无法篡改、每个人都能查看的公共账本，记录了所有的账户至今为止的所有交易，那么对于任何一个账户，人们都可以计算出它当前拥有的金额数量。



**这个公共账本就做到了银行做的两件事**

1. 记账，即记录交易
2. 验证交易各方是否拥有他们声称拥有的资金

**区块链技术就可以用来制作这个不断增长的公共账本。**因为**区块链可以解决数据中的信任问题，而金融的根本不外乎信任二字**：金融是信用交易，信用是金融的基础。所以区块链技术常被用于金融服务领域。



中心化的货币系统只有一个账本，并且只有这个中央信任机构才能够在这个账本上记账。当一笔交易数据产生以后，中央信任机构会直接处理这些数据，然后验证、保护等全部都由这个中央信任机构来维护。这样数据的记录、处理都是一家说了算，很容易造成数据的不透明。



去中心化后，不再是一家独大的中央信任机构来维护账本了，**公共账本人人都可以参与进来维护，每个人都有一个账本，每个人的账本彼此相独立、地位等同、都是完整的。当交易数据产生以后，每个参与维护的人都可以处理这个数据，然后把处理好的数据，发送给其他的每一个人进行确认，当其他大部分的参与者认为，这个数据是处理得没问题，可以达成共识的时候，那所有的参与者就把这个交易数据记录下来更新到自己的账本中。**



这样原理的优势有三点

- 第一、分散了权力，保证了交易数据处理的公正性，没有任何一个人可以单独地记录交易数据，避免了单一记录者被操控或者恶意记假账的情况；
- 第二、解决了数据的信任问题，因为交易数据会记录在多个账本中，一旦有人更改了账本中的交易数据，很容易就会被发现，从而使数据更加透明；
- 第三、降低了网络的安全风险，因为是多账本并存，理论上讲除非所有的账本被破坏，否则账目就不会丢失，从而保证了账目数据的安全性。



总的来说，区块链运行原理，就是一个大家共同记账，互相验证，达成共识的过程。

## 区块

区块链是由一个一个区块构成的有序链表

- 每一个区块都记录了一系列交易
- 每个区块都指向前一个区块

从而形成一个链条，这个链条包含了所有的数据。当区块链技术被用作公共账本时，这个链条就是整个账本，区块本身记录的主要数据就是一系列的交易。

![blockchain](https://raw.githubusercontent.com/ALmnoo/Image-Hosting-Service/master/img/l.jpeg)

**区块链首先要保证任何交易数据都不可修改，而这是由密码学的哈希算法保证的**

> 哈希算法，又称散列算法，可以把任意长度的输入数据转化为固定长度的输出
>
> 1. 相同的输入一定得到相同的输出
> 2. 不同的输入可以基本上可以认为一定得到不同的输出，因为只有非常非常非常小的概率两个不同的输入得到同样的输出，这个概率可以忽略不计



以下是一个区块的示例

![merkle](https://raw.githubusercontent.com/ALmnoo/Image-Hosting-Service/master/img/l.png)

区块的基本结构包括

- 区块的头部。例如

  - 区块内容信息的hash值Merkle Hash，它的作用就是保证区块内容不被篡改

  - 上一个区块的hash值Prev Hash，这样就可以通过Prev Hash追踪到上一个区块。这些区块串起来就形成了区块链。

    > 区块链的第一个区块（又称创世区块）并没有上一个区块，因此，它的Prev Hash被设置为`00000000...000`

- 区块的内容。

区块本身的hash值并没有记录在区块中，而是通过计算区块头部的hash得到的。因此**区块链是从后往前追溯的**。

## 分布式与去中心化

分布式，也称为分散式，个体通过交换信息共同协作而形成的系统，与之对应的是集中式。

去中心化，与之对应的是中心化，例如中央集权。



分布式侧重于协作，而中心化侧重于权力。例如分为三省六部协作来治理国家，这是分布式；但最终决策权力依旧皇帝一个人说了算，这是中心化。



分布式账本同时拥有分布式和去中心化的特点。**公共账本人人都可以参与进来维护，每个人都有一个账本，每个人的账本彼此相独立、地位等同、都是完整的。当交易数据产生以后，每个参与维护的人都可以处理这个数据，然后把处理好的数据，发送给其他的每一个人进行确认，当其他大部分的参与者认为，这个数据是处理得没问题，可以达成共识的时候，那所有的参与者就把这个交易数据记录下来更新到自己的账本中。**

1. 分布式。每个人通过协作来维护账本。
2. 去中心化。是否记录在账本中的权力不是一个人说了算。

## 共识机制

### 拜占庭将军问题

分布式账本可以说是区块链的框架，每一个人都可以自由地参与进来，共同处理区块链中的数据，它并没有一个中心化机构来发号施令，要依靠不同的节点间，彼此交换信息、达成共识，才能统一行动，整个过程就像**无领导小组讨论**一样。



对此，有人就提出了疑问，万一有节点发送了错误的信息，干扰网络正常运行或者大家产生了分歧怎么办？于是，学者们便建立了一个模型，统一将这类用来描述分布式系统一致性的问题，称为拜占庭将军问题。



所谓拜占庭将军问题是这样的：拜占庭帝国想要攻打一个国家，它派出了多支军队进行围攻，但敌国军事实力也很强，**将军们必须在同一个时间，一起发动进攻才能获取胜利**。现在的问题在于每个将军都分散在敌国四周，只能依靠通信兵骑马相互通信来确定进攻的时间

- 一方面通讯兵可能会在送信过程中被敌方击杀
- 另一方面根据不可靠消息，在这些将军中有叛徒的存在，叛徒可能会擅自变更进攻意向或者进攻时间，从而向其他将军传达虚假指令，影响他人判断。

![img](https://raw.githubusercontent.com/ALmnoo/Image-Hosting-Service/master/img/format%252Cwebp-20230515201715899)



如果整个分布式网络相当于拜占庭帝国，而每个节点相当于里面的将军，那么在这种状态下，该怎么做才能保证网络中的全部节点对于某个事情达成一致？（即将军们在同一时间一起发起进攻，从而赢取战斗）这就是拜占庭将军问题。



所以简单来说，拜占庭将军描述的是，分布式网络会面临的两个问题：

1. **如何解决各个节点之间的同步问题。**

   > 比如在没有叛徒情况下，将军 A 向其他将军传递进攻方案时（如：明日下午 2 点进攻），可能将军B也在传递进攻方案（如：明日下午 3点进攻）。

2. **如何解决恶意节点，故意发送错误信息干扰网络的运行的问题。**

   > 比如在有叛徒情况下，叛徒会向不同的将军发出不同的进攻提议，干扰其他将军们达成一致。



后来大家发现，想要在分布式网络中，**让每一个节点都不出错是不可能的**，于是就有人提出了“拜占庭容错”的观点来解决拜占庭将军的问题，这个解决办法就是**信息的伪造或错误并不重要，只要诚实的将军数量大于总数的三分之二，即使有少部分不诚实的将军存在，整个系统也可以达成一致。**

![img](https://raw.githubusercontent.com/ALmnoo/Image-Hosting-Service/master/img/format%252Cwebp-20230515201858848)

于是大家以此为基础，设计出了很多解决方案。区块链四大核心技术中的**共识机制**就是为了解决这个问题而诞生的一个方案。

### PoW共识机制

所谓PoW机制，全称是Proof of Work，也就是工作量证明。PoW机制是当今区块链中的主流的共识机制之一。



简单来说，PoW机制主要是通过竞争的方式，来解决区块链网络中各个节点的一致性问题，它的原理是这样的：我们都知道，区块链中的**每个节点都能自由地参与数据处理，也就是把数据打包成区块**，为了保证网络中的各个节点能达成一致，PoW就规定，当一笔交易产生后，每一个想要记账的节点，都需要**依靠自己的计算能力与他人竞争、争夺记账的权力**。





## 挖矿

简单来讲，所谓区块链中的挖矿，与我们日常生活中所说的挖矿不同，它指的是区块链网络中，获取数字货币的勘探方式的称呼。因为数字货币的数量有限，这种行为又与淘金矿的举动相类似，所以，我们就把通过这种规则获得数字货币的方式称之为挖矿，而参与数据处理的这些人，我们就称之为矿工。



挖矿的意义有两点

- 第一、挖矿其实是决定了数据的记账权。区块链实际是一个人人都可以参与数据处理、去中心化的数据库。既然是人人都可以参与数据处理，就会有很多人参与，那用谁处理的数据就是一个问题了。所以就有了挖矿机制，谁能把数据处理得最快、最好，并得到系统的认可，谁就能获得数据的记账权。
- 第二、它**实际是一个激励系统**，帮助维护了整个区块链的去中心化生态。我们都知道区块链最大的作用就是去中心化，从而保证了数据信息的透明。既然是去中心化的话，就没有一个专门的团队进行数据的维护，会完全的交给社区或者矿工去处理。那就会存在另一个问题，大家凭什么平白无故的进行数据维护？



在区块链网络中，**谁能获得数据的记账权，谁就能获得一定的数字货币作为奖励**，而数字货币，则代表了这个系统的价值。于是参与的人越多，系统的价值就越高，数字货币的价格也越高，从而又会吸引更多的人参与进来，整个系统的去中心化程度也就越高，安全程度也越高以此形成了一个正向闭环；这是**有币区块链**的精髓，挖矿就是这个生态中必不可少的一环。



而无币区块链，则是把挖矿这个环节去掉，改为由中心化机构、或者多中心化的机构去维护区块链中的数据，虽然会提高效率、节省资源，但却牺牲了区块链的精髓去中心化。



区块链之所以被誉为趋势，正是因为其去中心化的特点改变了互联网数据的透明性，如果应用区块链技术去实现一种另类的数据垄断情况，区块链也就失去了原本的意义。而且，随着技术的进步，区块链挖矿所消耗的资源，也在不断的降低。

所以挖矿并不是没有意义的一件事，反而挖矿是区块链中的重要环节，既帮助维护网络的运行，又能守护网络的安全。只要想尝试，每个人也可以体会一次家里有“矿”的感觉。

## 总结：区块链的四大核心技术

一般来说，区块链的核心技术主要有四个部分，分别是分布式存储、共识机制、智能合约以及密码学。每个技术，在整个区块链系统里都有它们各自的作用。

- **分布式账本**

  > 简单来说，分布式账本就是一种将数据分散存储到多个地方的数据储存技术，而且存储的数据可在多个参与者之间共享，人人可以参与，并具有相同的权力，一起记录数据，主要起到了数据储存的功能。
  >
  > 如果说密码学是区块链的基石，那么分布式账本就是区块链的骨架。

- **共识机制**

  > 因为去中心化中没有中央权威。因此，需要一个决策机制来促成参与者达成一致。而共识机制就是一种协调大家处理数据的机制。因为每个人都可以参与的话，记录下来的数据这么多，到底该用谁的呢？所以，共识机制就决定了这些数据中，谁获得数据的记账权。共识机制主要起到了数据的维护作用。

- **智能合约**

  > 智能合约是一种旨在以信息化方式传播、验证或执行合同的计算机协议。有点像一种大家把规则都制定好，由机器自动去执行的技术。因为网络中存储和维护好的数据，总需要有人去执行的，而智能合约正好可以在没有第三方的情况下，也能进行可信的交易，而且这些交易可追踪且不可逆转。所以，智能合约在系统中，主要起到了数据的执行作用。

- **密码学**

  > 密码学，就是一种特殊的加密和解密技术，区块链系统中，应用了多种多样的密码学技术，包括哈希算法、公钥私钥、数字签名等等，以此来保证整个系统的数据安全，并且证明了数据的归属。

所以，当一笔数据产生后，会由共识机制进行数据维护，通过分布式储存记录在链上，然后交由智能合约去执行，最后由密码学保障整个体系的安全，大家各司其职，共同构建出了整个区块链系统。



总的来说，区块链由这4种技术所构成，就好比区块链是一座高楼大厦，而技术则是搭建这所高楼的材料。正是因为有这些技术作为基础，解决了一个又一个问题，才有了区块链的广阔前景。